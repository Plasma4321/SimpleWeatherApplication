<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>

    <style>
        body {
            background-color: rgb(18, 43, 43);
            color: darkgray;
            margin: 0%;
            padding: 0%;
            display: flex;
        }
        .heading-section{
            display: flex;
            justify-content: space-between;
        }
        h2 {
            color: rgb(255, 255, 255);
            text-align: center;
        }

        .main-box {
            background-color: darkgray;
            border-radius: 50px;
            width: 80%;
            height: 80%;
            padding: 5%;
            margin: 5%;
            margin-top: 15%;
        }

        .box {
            background: url('tornado.gif') center/cover no-repeat;
            border-radius: 15px;
        }

        .container {
            display: flex;
            padding: 5%;
            justify-content: space-between;
        }

        .container-left {
            background-color: darkcyan;
            padding: 5%;
            padding-top: 10%;
            padding-bottom: 10%;
        }

        .container-right {
            background-color: darkcyan;
            padding: 5%;
        }
    </style>
</head>
<body>

    <div class="main-box">
        <div class="heading-section">
            <h2 id="location"></h2>  <!-- will be autogenerated from script -->
        </div>
        <div class="box" id="today">
            <h2>Today</h2>
            <div class="container" id="today-container">
                <!-- Content will be dynamically added from script -->
            </div>
        </div>
        <div class="box" id="tomorrow">
            <h2>Tomorrow</h2>
            <div class="container" id="tomorrow-container">
                <!-- Content will be dynamically added from script -->
            </div>
        </div>
        <div class="box" id="dayAfter">
            <h2>Day After Tomorrow</h2>
            <div class="container" id="dayAfter-container">
                <!-- Content will be dynamically added from script -->
            </div>
        </div>
    </div>

    <script>
        async function getWeatherData() {
            const apiKey = '85b68f8d9a265d211a5303ed6f1c9027';
            const cityId = '1185241'; 
            const apiUrl = `https://api.openweathermap.org/data/2.5/forecast?id=${cityId}&appid=${apiKey}`;

            try {
                const response = await fetch(apiUrl);
                const data = await response.json();

                updateWeather(data);
            } catch (error) {
                console.error('Error fetching weather data:', error);
            }
        }

        function updateWeather(data) {
            document.getElementById('location').innerText = 'Weather Statistics For ' + data.city.name +' Which is Based in ' +data.city.country;

            updateWeatherInfo('today-container', data.list[0]);
            updateWeatherInfo('tomorrow-container', data.list[8]);
            updateWeatherInfo('dayAfter-container', data.list[16]);
        }

        function updateWeatherInfo(containerId, weatherData) {
            const container = document.getElementById(containerId);

            const temperature = weatherData.main.temp;
            const weather = weatherData.weather[0].main;
            const date = new Date(weatherData.dt * 1000).toLocaleDateString();
            const realFeel = weatherData.main.feels_like;
            const humidity = weatherData.main.humidity;
            const pressure = weatherData.main.pressure;
            const cloudCover = weatherData.clouds.all;
            const visibility = weatherData.visibility;

            container.innerHTML = `
                <div class="container-left">
                    <h3>Temp: ${temperature}</h3>
                    <h3>Weather: ${weather}</h3>
                    <h3>Date: ${date}</h3>
                </div>
                <div class="container-right">
                    <p>RealFeel: ${realFeel}</p>
                    <p>Humidity: ${humidity}</p>
                    <p>Pressure: ${pressure}</p>
                    <p>Cloud Cover: ${cloudCover}</p>
                    <p>Visibility: ${visibility}</p>
                </div>
            `;
        }

        getWeatherData();
    </script>

</body>
</html>
